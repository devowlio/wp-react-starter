# Plugin

The plugin folder structure is separated from the root folder structure to avoid flooding the documentation. Additionally folders/files marked with a **prefixed** ğŸ’¡ are important for **getting started** (that means, learn more about them).

All files and folders written in italics are not saved in Git, but automatically arranged when you develop or deploy your plugin.

### Folder structure

-   ğŸ“ `plugins/your-plugin` Folder you created with `create-wp-react-app create-plugin`
    -   ğŸ“ _`coverage`_ Coverage reports, see [this](../../advanced/tests.md#coverage)
    -   ğŸ“ `devops` Files related to [CI/CD](../../gitlab-integration/predefined-pipeline.md), Docker and so on for this specific plugin
        -   ğŸ“ `.gitlab`
            -   ğŸ“„ ğŸ’¡ `.gitlab-ci.ts` [CI/CD similar root file](../../gitlab-integration/predefined-pipeline.md), included in root `.gitlab-ci.yml`
            -   ğŸ“„ `stage-build-production.ts` Predefined job to build production plugin when merged to `master`
            -   ğŸ“„ `stage-build.ts` Predefined job to build plugin
            -   ğŸ“„ `stage-deploy.ts` Predefined job for wordpress.org deployment
            -   ğŸ“„ `stage-test.ts` Predefined test jobs
            -   ğŸ“„ `stage-validate.ts` Jobs for Docker garbage collection, semantic versioning and license scanner
        -   ğŸ“ `docker-compose` [Compose files](https://docs.docker.com/compose/compose-file/) are consumed automatically
            -   ğŸ“„ `docker-compose.e2e.yml` Used in Cypress [E2E tests](../../advanced/tests.md#e2e)
            -   ğŸ“„ `docker-compose.local.yml` Used locally with port expose
            -   ğŸ“„ `docker-compose.traefik.yml` Used for [Review applications](../../gitlab-integration/review-applications.md)
            -   ğŸ“„ `docker-compose.yml` This file is automatically merged with `devops/docker-compose/docker-compose.yml`, see [here](../../advanced/extend-compose-webpack.md#docker-compose)
        -   ğŸ“ `scripts` Additional scripts used in Docker containers ([mounted](https://docs.docker.com/compose/compose-file/#volumes)) for this specific plugin
            -   ğŸ“„ ğŸ’¡ `wordpress-startup.sh` Similar to `devops/scripts/wordpress-startup.sh`
    -   ğŸ“ _`build`_ Run [`yarn build`](../available-commands/plugin.md#build) to create an installable plugin into this folder
    -   ğŸ“ _`docs`_ Run [`yarn docs`](../available-commands/plugin.md#documentation) to create all technical docs into this folder
    -   ğŸ“ _`node_modules`_ [Node dependencies](https://docs.npmjs.com/files/folders.html#node-modules)
    -   ğŸ“ `scripts` Scripts related to development
        -   ğŸ“„ ğŸ’¡ `Gruntfile.ts` [Gruntfile](https://gruntjs.com/sample-gruntfile) for this plugin, extends `common/Gruntfile.base.ts`
        -   ğŸ“„ ğŸ’¡ `webpack.config.ts` Webpack [configuration file](https://webpack.js.org/configuration/) for this plugin, consumes `common/webpack.factory.ts`, see [here](../../advanced/extend-compose-webpack.md#webpack)
    -   ğŸ“ `src` Your plugin coding, here we go!
        -   ğŸ“ `inc` [Server-side coding](../../php-development/predefined-classes.md) in PHP
            -   ğŸ“ `base` Base classes and functions
                -   ğŸ“ `others`
                    -   ğŸ“„ _`cachebuster-lib.php`_ [Cachebuster file](../../advanced/how-cachebuster-works.md#npm-dependency) for library files
                    -   ğŸ“„ _`cachebuster.php`_ [Cachebuster file](../../advanced/how-cachebuster-works.md#entrypoints) for entrypoint files
                    -   ğŸ“„ `fallback-php-version.php` Show admin notice when PHP version not reached
                    -   ğŸ“„ `fallback-rest-api.php` Show admin notice when [WP REST API](https://developer.wordpress.org/rest-api/) is not available
                    -   ğŸ“„ `fallback-wp-version.php` Show admin notice when WP version is not reachable
                    -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
                    -   ğŸ“„ `start.php` Initializes the plugins Core class and shows notices if requirements are not met (e. g. WP version)
                -   ğŸ“„ ğŸ’¡ `Core.php` [Abstract core class](../../php-development/predefined-classes.md#core) for main initialization of namespacing and so on, similar to the well-known `functions.php`
                -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
                -   ğŸ“„ ğŸ’¡ `UtilsProvider.php` Make plugin relevant data available to composer packages, used in all your classes!
            -   ğŸ“ ğŸ’¡ `rest` Example [WP REST API](https://developer.wordpress.org/rest-api/) endpoint implementation
                -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
                -   ğŸ“„ `HelloWorld.php` Example [`wp-json/your-plugin/hello-world`](../../php-development/example-implementations.md#rest-endpoint) endpoint
            -   ğŸ“ ğŸ’¡ `view` View relevant coding like initialization of Widgets and admin pages
                -   ğŸ“ `menu` Example [admin page](https://developer.wordpress.org/reference/functions/add_menu_page/) implementation
                    -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
                    -   ğŸ“„ `Page.php` Example ["Your plugin"](../../php-development/example-implementations.md#menu-page) admin page
                -   ğŸ“ `widget` Example [widget](https://developer.wordpress.org/reference/hooks/widgets_init/) implementation
                    -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
                    -   ğŸ“„ `Widget.php` React [example widget](../../php-development/example-implementations.md#widget) implementation
                -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
            -   ğŸ“„ ğŸ’¡ `Activator.php` [Class](../../php-development/predefined-classes.md#activator) for activate, deactivate and install actions, extends `./base/Activator.php`
            -   ğŸ“„ ğŸ’¡ `Assets.php` [Class](../../php-development/predefined-classes.md#assets) for assets management, extends `./base/Assets.php`
            -   ğŸ“„ ğŸ’¡ `Core.php` [Core class](../../php-development/predefined-classes.md#core), put your hook and filter registrations here; extends `./base/Core.php`
            -   ğŸ“„ `index.php` Empty index.php file to [prevent directory browsing](https://wordpress.stackexchange.com/q/114843/83335)
            -   ğŸ“„ ğŸ’¡ `Localization.php` Allows to [override](../../php-development/predefined-classes.md#localization) used language, extends `./base/Localization.php`
        -   ğŸ“ `languages` Server-side [language files](../../php-development/localization.md)
            -   ğŸ“„ `wp-reactjs-starter.pot` Language file can be translated with [Poedit](https://poedit.net/)
        -   ğŸ“ `public` [Client-side coding](../../typescript-development/utils-package.md) in React (TypeScript)
            -   ğŸ“ _`dev`_ Run [`yarn build:js:development`](../available-commands/plugin.md#build) to compile TypeScript to consumable JS files
            -   ğŸ“ _`dist`_ Run [`yarn build:js:production`](../available-commands/plugin.md#build) to compile TypeScript to minified consumable JS files
            -   ğŸ“ _`lib`_ Run [`yarn grunt libs:copy`](../available-commands/plugin.md#development) to copy external library files to this folder
            -   ğŸ“ `languages` Client-side [language files](../../typescript-development/localization.md)
                -   ğŸ“„ `wp-reactjs-starter.pot` Language file can be translated with [Poedit](https://poedit.net/)
            -   ğŸ“ ğŸ’¡ `ts` Your frontend TypeScript [entrypoints](../../typescript-development/using-entrypoints.md) and coding
                -   ğŸ“ `components` React components
                    -   ğŸ“„ `index.tsx` Export all members from this folder
                    -   ğŸ“„ `page.tsx` Page component used in `src/inc/view/menu/Page.php`
                    -   ğŸ“„ `todo.tsx` Example todo component consuming the store from `../store/todo.tsx`, used in `./page.tsx`
                    -   ğŸ“„ `todoItem.tsx` Example todo item component, used in `./todo.tsx`
                -   ğŸ“ `models` Model definitions for your stores
                    -   ğŸ“„ `index.tsx` Export all members from this folder
                    -   ğŸ“„ `todoModel.tsx` Example todo item implementation, see `../store/todo.ts`
                -   ğŸ“ `store` [MobX](https://github.com/mobxjs/mobx) stores
                    -   ğŸ“„ `index.tsx` Export all members from this folder
                    -   ğŸ“„ `option.tsx` Option store, see `src/inc/base/Assets.php`
                    -   ğŸ“„ `stores.tsx` Combine all available stores (see [this](https://mobx.js.org/best/store.html#combining-multiple-stores))
                    -   ğŸ“„ `todo.tsx` Example Todo store implementation
                -   ğŸ“ `style` CSS styles as [SCSS](https://sass-lang.com/) files
                    -   ğŸ“„ `admin.scss` Consumed in `../admin.tsx`, enqueued in `Assets.php`
                    -   ğŸ“„ `widget.scss` Consumed in `../widget.tsx`, enqueued in `Assets.php`
                -   ğŸ“ `types` Additional [declaration files](https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html)
                    -   ğŸ“„ `global.d.ts` Avoid errors of plain JS packages (see [this](https://git.io/JeMCt))
                -   ğŸ“ `utils` Utils and helpers
                    -   ğŸ“„ `index.tsx` Create utils from `packages/utils/lib/factory` like i18n and AJAX handler
                -   ğŸ“ `widget` Example widget implementation, see `src/inc/view/widget/Widget.php`
                    -   ğŸ“„ `index.tsx` React component for the widget container
                -   ğŸ“ `wp-api` WP REST API types
                    -   ğŸ“„ `hello.get.tsx` Types for `wp-json/your-plugin/hello-world`, see `src/inc/rest/HelloWorld.php`
                    -   ğŸ“„ `index.tsx` Export all members from this folder
                -   ğŸ“„ `admin.tsx` Admin frontend coding ([entrypoint](../../typescript-development/using-entrypoints.md)), enqueued in `Assets.php`
                -   ğŸ“„ `widget.tsx` Widget frontend coding ([entrypoint](../../typescript-development/using-entrypoints.md)), enqueued in `Assets.php`
        -   ğŸ“„ ğŸ’¡ `index.php` Main plugin file making your plugin to a real WordPress plugin
        -   ğŸ“„ `uninstall.php` [Uninstall file](https://developer.wordpress.org/plugins/plugin-basics/uninstall-methods/#method-2-uninstall-php)
    -   ğŸ“ `test` Test files and specs
        -   ğŸ“ ğŸ’¡ `cypress` Put your [E2E test](../../advanced/tests.md#e2e) files here
        -   ğŸ“ `jest` Put all your [Jest](../../advanced/tests.md#jest) tests here
        -   ğŸ“ `phpunit` Put all your [PHPUnit](../../advanced/tests.md#phpunit) tests here
        -   ğŸ“„ `jest.config.js` Jest [configuration file](https://jestjs.io/docs/en/configuration)
        -   ğŸ“„ `jest.setup.js` Jest [setup file](https://jestjs.io/docs/en/configuration#setupfiles-array)
        -   ğŸ“„ `patchwork.json` Patchwork [configuration file](http://patchwork2.org/features/)
        -   ğŸ“„ `phpunit.bootstrap.php` PHPUnit [bootstrap](https://phpunit.readthedocs.io/en/8.4/configuration.html) file
        -   ğŸ“„ `phpunit.xdebug.php` PHPUnit + [XDebug filtering](<(https://xdebug.org/docs/code_coverage)>) for faster code coverage analysis
        -   ğŸ“„ `phpunit.xml` PHPUnit [configuration file](https://phpunit.readthedocs.io/en/8.4/configuration.html)
    -   ğŸ“ _`vendor`_ Composer [vendor-dir](https://getcomposer.org/doc/06-config.md#vendor-dir)
    -   ğŸ“ `wordpress.org` wordpress.org related files for release in the plugin directory, see [here](../../gitlab-integration/deploy-wp-org.md)
        -   ğŸ“ `assets` Assets like banner and icons (see [this](https://developer.wordpress.org/plugins/wordpress-org/plugin-assets/))
        -   ğŸ“„ ğŸ’¡ `README.wporg.txt` [Plugin readme](https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/)
    -   ğŸ“„ `CHANGELOG.md` [Conventional](https://github.com/conventional-changelog/conventional-changelog) changelog output
    -   ğŸ“„ `composer.json` Composer [configuration file](https://getcomposer.org/doc/04-schema.md)
    -   ğŸ“„ `composer.lock` Composer [lock file](https://getcomposer.org/doc/01-basic-usage.md#installing-with-composer-lock)
    -   ğŸ“„ `cypress.json` Cypress [configuration file](https://docs.cypress.io/guides/references/configuration.html#Options)
    -   ğŸ“„ `LICENSE` Plugin license file
    -   ğŸ“„ _`LICENSE_3RD_PARTY_JS.md`_ Yarn dependencies disclaimer, see [License checker](../../advanced/license-checker.md#javascript)
    -   ğŸ“„ _`LICENSE_3RD_PARTY_PHP.md`_ Composer dependencies disclaimer, see [License checker](../../advanced/license-checker.md#php)
    -   ğŸ“„ `package.json` Package [definition file](https://docs.npmjs.com/files/package.json)
    -   ğŸ“„ `tsconfig.json` TypeScript [configuration file](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html), extends `common/tsconfig.json`
